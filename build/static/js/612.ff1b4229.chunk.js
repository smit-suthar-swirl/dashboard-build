"use strict";(self.webpackChunkswirl_dashboard=self.webpackChunkswirl_dashboard||[]).push([[612],{84497:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var a=s(65043),n=s(41591),o=s(58786),i=s(74120),l=s(86347),r=s(60184),d=s(36505),c=s(37064),m=s(59085);const h={apiKey:window.atob("QUl6YVN5QXVCWEJUb2NzaFU1a2V4T28tTzNqNW40SkZsblZReU9v"),authDomain:"swirl-short-vido.firebaseapp.com",projectId:"swirl-short-vido",storageBucket:"swirl-short-vido.appspot.com"},u=(0,c.Wp)(h),p=(0,m.aU)(u);var x=s(19550),g=s(77154),v=s(83003),b=s(47196),j=s(45394),w=s(66833),y=s(86178),_=s.n(y),f=s(70579);const N=e=>{let{el:t,updatePinStatus:s,removeComment:n}=e;const[o,i]=(0,a.useState)(!1),l=Number(t.createdAt),r=_()(l).fromNow();return(0,f.jsxs)("div",{className:"d-flex ps-2 pe-2 pt-2 hover-target-".concat(t.id),onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},children:[(0,f.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%"},src:t.brand_logo}),(0,f.jsxs)("div",{className:"d-flex ms-2 w-100 justify-content-between",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("b",{children:[t.uName,(0,f.jsx)(w.dnm,{size:10,color:"#D9D9D9"}),(0,f.jsx)("small",{className:"ps-1",style:{color:"rgba(0,0,0,0.5)"},children:r})]}),(0,f.jsxs)("p",{style:{fontWeight:"lighter",color:"#515151"},children:[t.comment," "]})]}),(0,f.jsxs)("div",{className:"d-flex hidden-div-".concat(t.id," gap-1"),style:{visibility:o?"visible":"hidden",cursor:"pointer"},children:[1==t.isPinned?(0,f.jsx)(b.Sf7,{onClick:()=>s(t),size:21}):(0,f.jsx)(b.xKd,{onClick:()=>s(t),size:21}),(0,f.jsx)(j.dW_,{size:18,onClick:()=>n(t),color:"red"})]})]})]})},k=e=>{let{el:t,updatePinStatus:s,removeComment:n}=e;const[o,i]=(0,a.useState)(!1),l=Number(t.createdAt),r=_()(l).fromNow();return(0,f.jsxs)("div",{className:"d-flex ps-2 pe-2 pt-2 hover-target-".concat(t.id),style:{backgroundColor:"#F3F4F8"},onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},children:[(0,f.jsx)("img",{style:{height:"30px",width:"30px",borderRadius:"50%"},src:t.brand_logo}),(0,f.jsxs)("div",{className:"d-flex ms-2 w-100 justify-content-between",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("b",{children:[t.uName,(0,f.jsx)(w.dnm,{size:10,color:"#D9D9D9"}),(0,f.jsx)("small",{className:"ps-1",style:{color:"rgba(0,0,0,0.5)"},children:r})]}),(0,f.jsxs)("p",{style:{fontWeight:"lighter",color:"#515151"},children:[t.comment," "]})]}),(0,f.jsxs)("div",{className:"d-flex hidden-div-".concat(t.id," gap-1"),style:{visibility:o?"visible":"hidden",cursor:"pointer"},children:[1==t.isPinned?(0,f.jsx)(b.Sf7,{onClick:()=>s(t),size:21}):(0,f.jsx)(b.xKd,{onClick:()=>s(t),size:21}),(0,f.jsx)(j.dW_,{size:18,onClick:()=>n(t),color:"red"})]})]})]})},S=e=>{let{show:t,handleClose:s,data:n}=e;const o=(0,v.d4)((e=>e.auth.user)),[i,l]=(0,a.useState)([]),[r,c]=(0,a.useState)(!1),[m,h]=(0,a.useState)([]),[u,b]=(0,a.useState)(""),[j,w]=(0,a.useState)([]),[y,_]=(0,a.useState)("products"),[S,C]=(0,a.useState)(),A=(0,a.useRef)(null),D=()=>{var e;null===(e=A.current)||void 0===e||e.scrollIntoView()};(0,a.useEffect)((()=>{t&&"comments"==y&&(async e=>{try{const t=(0,x.rJ)(p,"ssv13_comments","v".concat(e),"comments"),s=(0,x.P)(t,(0,x.My)("createdAt","asc")),a=(await(0,x.GG)(s)).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>1!=e.isRemoved)),n=a.filter((e=>1==e.isPinned));h(a),w(n),setTimeout((()=>{D()}),100)}catch(t){console.error("Error fetching data: ",t)}})(null===n||void 0===n?void 0:n.video_id)}),[t,n.video_id,y]);(0,a.useEffect)((()=>{t&&(async()=>{c(!0);try{await g.A.get("https://liveshopping.asia/getProductInfoByVideoId?brandId=".concat(o.brand_id,"&videoId=").concat(n.video_id)).then((e=>{e.data?(l(e.data.productResp),c(!1),D()):(l([]),c(!1))}))}catch(e){console.log(e),l([]),c(!1)}})()}),[t]);const T=async e=>{e.preventDefault();try{let t={uName:o.first_name,comment:u,createdAt:(new Date).getTime(),isPinned:0,isRemoved:0,brand_logo:null===o||void 0===o?void 0:o.user_profile};await(async(e,t)=>{try{const s=(0,x.H9)(p,"ssv13_comments/v".concat(e));await(0,x.BN)(s,{});const a=await(0,x.gS)((0,x.rJ)(p,"ssv13_comments/v".concat(e,"/comments")),t);return D(),M(),a.id}catch(s){throw console.error("Error adding video comment document: ",s),s}})(n.video_id,t),M(),e.target.reset()}catch(t){console.log(t)}},P=async e=>{const t=(0,x.H9)(p,"ssv13_comments","v".concat(n.video_id),"comments",e.id);j.length<4?await(0,x.mZ)(t,{isPinned:0==e.isPinned?1:0}):await(0,x.mZ)(t,{isPinned:0}),M()},E=async e=>{const t=(0,x.H9)(p,"ssv13_comments","v".concat(n.video_id),"comments",e.id);await(0,x.mZ)(t,{isRemoved:1}),M()},F=n.video_id,M=()=>{const e=(0,x.rJ)(p,"ssv13_comments","v".concat(F),"comments"),t=(0,x.P)(e,(0,x.My)("createdAt","asc"));(0,x.aQ)(t,(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>1!=e.isRemoved)),s=t.filter((e=>1==e.isPinned));h(t),w(s)}),(e=>{console.error("Error fetching data: ",e)}))};return console.log(y),(0,a.useEffect)((()=>{if("comments"===y&&t){const e=document.getElementById("pinnedcommentsection");console.log(e.offsetHeight);const t=e.offsetHeight,s=document.getElementById("unpinnedcommentsection"),a=document.getElementById("main-section-comments");C(a.offsetHeight-t),s&&(s.style.height=window.innerHeight-t)}}),[y,j,t]),(0,a.useEffect)((()=>()=>{_("products")}),[t]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.A,{show:t,className:"d-grid modal_video",size:"lg",onHide:s,children:(0,f.jsx)(d.A.Body,{children:(0,f.jsxs)("div",{className:" d-flex m-0 p-0",children:[(0,f.jsx)("div",{style:{maxWidth:"400px",margin:"0",padding:"0"},children:(0,f.jsxs)("video",{className:"modal_video",controls:!0,width:"600",autoPlay:!0,loop:!0,muted:!0,children:[(0,f.jsx)("source",{src:n.url,type:"video/mp4"}),"Your browser does not support the video tag."]})}),i.length>0&&(0,f.jsxs)("div",{style:{width:"400px"},children:[(0,f.jsx)("ul",{className:"nav nav-tabs",id:"responsive-tabs",role:"tablist",children:(0,f.jsx)("li",{className:"nav-item",role:"presentation",children:(0,f.jsx)("button",{className:"nav-link  active",id:"product-tab","data-bs-toggle":"tab","data-bs-target":"#product",type:"button",role:"tab","aria-controls":"video","aria-selected":"true",onClick:()=>_("products"),children:"Products"})})}),(0,f.jsxs)("div",{className:"tab-content ",id:"responsive-tabs-content",style:{height:"calc(100% - 42px)"},children:[(0,f.jsx)("div",{className:"tab-pane fade show active h-100",id:"product",role:"tabpanel","aria-labelledby":"product-tab",children:r?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("p",{className:"text-muted mt-5 text-center",children:"  Loading..."})}):(0,f.jsx)(f.Fragment,{children:i.map(((e,t)=>{var s,a;const n=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyName}).formatToParts(0).find((e=>"currency"===e.type)).value;return(0,f.jsxs)("div",{className:"p-2 mt-1 m-0 d-flex product_card",children:[(0,f.jsx)("img",{alt:"productmini",src:e.image,className:"rounded",style:{height:"60px",width:"60px",border:"1px solid #aaa  "}}),(0,f.jsxs)("div",{className:"ps-2",children:[(0,f.jsxs)("h6",{className:"mb-0 product_title_video_model",title:e.title,children:[e.title," "]}),(0,f.jsxs)("p",{className:"prouct_desc",children:[n,null===(s=parseInt(e.discountPrice))||void 0===s?void 0:s.toLocaleString()," ",(0,f.jsx)("span",{className:"text-muted",children:(0,f.jsxs)("del",{children:[n,null===(a=parseInt(e.price))||void 0===a?void 0:a.toLocaleString()]})})," "]})]})]})}))})}),(0,f.jsx)("div",{className:"tab-pane fade h-100",id:"comments",role:"tabpanel","aria-labelledby":"comments-tab",children:(0,f.jsxs)("div",{className:"card h-100",children:[(0,f.jsxs)("div",{className:"h-100",style:{overflow:"hidden"},id:"main-section-comments",children:[j.length>0?(0,f.jsx)("div",{className:"pin display-flex flex-column",children:(0,f.jsx)("div",{id:"pinnedcommentsection",children:j.map((e=>(0,f.jsx)(k,{el:e,updatePinStatus:P,removeComment:E})))})}):(0,f.jsx)("div",{id:"pinnedcommentsection"}),m.length>0?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{class:"display-flex flex-column",id:"unpinnedcommentsection",style:{overflow:"auto",height:"".concat(S,"px")},children:[m.map((e=>(0,f.jsx)(N,{el:e,updatePinStatus:P,removeComment:E}))),(0,f.jsx)("div",{ref:A})]})}):(0,f.jsx)("p",{className:"text-muted text-center mt-5",children:"No comments"})]}),(0,f.jsx)("div",{className:"card-footer ",children:(0,f.jsxs)("form",{className:"d-flex",onSubmit:e=>{T(e)},children:[(0,f.jsx)("input",{className:"form-control mt-auto",onChange:e=>{b(e.target.value)},placeholder:"Type something here..",type:"text"}),(0,f.jsx)("button",{type:"submit",className:"btn btn-sm btn-dark ms-2",disabled:!(u.length>0),children:" Send"})]})})]})})]})]})]})})})})};var C=s(11238),A=s(72450),D=s(37762),T=(s(20557),s(31121)),P=s(31462),E=s(49804),F=s(55508);const M=e=>{let{show:t,handleClose:s,data:n}=e;const[i,l]=(0,a.useState)([]),[r,c]=a.useState(!1),m=[{name:"Video Title",selector:e=>n.video_title},{name:"Name",selector:e=>e.name},{name:"Date",selector:e=>n.date},{name:"Mobile",selector:e=>e.mobile},{name:"Message",selector:e=>e.message}];(0,a.useEffect)((()=>{t&&async function(){c(!0);try{let e=new FormData;e.append("brand_id",n.brand_id),e.append("start_date",(0,T.GP)(n.startDate,"yyyy-MM-dd")),e.append("end_date",(0,T.GP)(n.endDate,"yyyy-MM-dd")),e.append("video_id",n.video_id),await g.A.post("https://bigleap.live/index.php/APIv1/ShortVideoAnalytics/getAskquestion",e).then((e=>{l(e.data.data),c(!1)})).catch((e=>{console.log(e),c(!1)}))}catch(e){throw c(!1),e}}(n.date)}),[n.date]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d.A,{show:t,className:"d-grid w-100 askquestion_modal ",size:"lg",onHide:s,children:[(0,f.jsxs)(d.A.Title,{className:"p-3 pb-0",children:["Asked Questions ",(0,f.jsx)(P.Blb,{style:{cursor:"pointer"},title:"These are raised questions asked by viewers on video or product"}),(0,f.jsxs)("button",{className:"btn btn-sm btn-outline-dark float-end",onClick:()=>(()=>{const e=C.Wp.json_to_sheet(i),t=C.Wp.book_new();C.Wp.book_append_sheet(t,e,"Sheet1");const s=C.M9(t,{bookType:"xlsx",type:"array"});(0,A.saveAs)(new Blob([s],{type:"application/octet-stream"}),"askQuestData.xlsx")})(),children:[(0,f.jsx)("span",{className:"mt-3",children:"Export"})," ",(0,f.jsx)(E.w4m,{size:25})]}),(0,f.jsx)("hr",{})]}),(0,f.jsx)(d.A.Body,{className:"p-3 pt-0",children:(0,f.jsx)(o.Ay,{columns:m,data:i,progressPending:r,progressComponent:(0,f.jsx)("div",{className:"p-3 m-4",children:(0,f.jsx)(F.IN,{height:30,width:30,strokeColor:"grey"})})})})]})})};var I=s(3825);const V=e=>{let{state:t,setState:s}=e;const n=new Date,d=new Date(n),[c,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)([]),[p,x]=(0,a.useState)(!1),[b,j]=(0,a.useState)([]),[w,y]=(0,a.useState)([]),[_,N]=(0,a.useState)(""),[k,P]=(0,a.useState)(!1),[V,W]=a.useState(!1),R=(0,v.d4)((e=>e.auth.user)),[B,H]=(0,a.useState)([]);d.setDate(n.getDate()-1);const[z,Q]=(0,a.useState)(!1);const q=[{selector:e=>e.index+1,sortable:!0,width:"4%"},{name:"Video Title",selector:e=>e.video_title,sortable:!0,width:"22.2%",cell:e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("p",{className:"pt-4",title:e.video_title,style:{padding:"2px",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"280px",textOverflow:"ellipsis",cursor:"pointer"},onClick:()=>{u(e),m(!0)},children:[e.video_title?e.video_title:"no title"," "]}),(0,f.jsxs)("span",{onClick:()=>{u(e),m(!0)},style:{cursor:"pointer"},children:["  ",(0,f.jsx)(I.o0O,{size:20,className:"ms-1"})]})]})},{name:"Total Views",selector:e=>e.total_views,sortable:!0,style:{backgroundColor:"rgba(255, 0, 0,.1)"}},{name:"Unique  Views",selector:e=>e.total_unique_views,sortable:!0,style:{backgroundColor:"rgba(255, 0, 0,.1)"}},{name:"Watch Time [Mins]",selector:e=>e.total_watchtime,sortable:!0,style:{backgroundColor:"rgba(255, 0, 0,.1)"},cell:e=>(parseInt(e.total_watchtime)/60).toFixed(2)},{name:"Avg. Watch Time [Secs]",selector:e=>Math.round(e.average_watchtime),sortable:!0,style:{backgroundColor:"rgba(255, 0, 0,.1)"}},{name:"Engage. Rate %",selector:e=>null===e.engagement_rate?"".concat("0%"):"".concat(Math.round(e.engagement_rate),"%"),sortable:!0,style:{backgroundColor:"rgba(0, 255, 71, .1)"}},{name:"CTR%",selector:e=>"".concat(Math.round(e.ctr_rate),"%"),sortable:!0,style:{backgroundColor:"rgba(0, 255, 71, .1)"}},{name:"Add To Cart",selector:e=>e.addtoCart,sortable:!0,style:{backgroundColor:"rgba(0, 255, 71, .1)"}},{name:"Buy Now",selector:e=>e.buyNow,sortable:!0,style:{backgroundColor:"rgba(0, 255, 71, .1)"}},{name:"Ask Question",selector:e=>e.askQuestion,sortable:!0,style:{backgroundColor:"rgba(0, 255, 71, .1)"},cell:e=>e.askQuestion>0?(0,f.jsx)("p",{onClick:()=>{x(!0),j(e)},style:{cursor:"pointer"},children:(0,f.jsx)("span",{className:"badge_ask_count",children:e.askQuestion})}):(0,f.jsx)("p",{style:{padding:"3px 5px"},children:e.askQuestion})}],L=()=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"ms-3",children:(0,f.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M13.3333 2.6665V10.6665H15.3333L12.6667 13.9998L10 10.6665H12V2.6665H13.3333ZM8 11.9998V13.3332H2V11.9998H8ZM9.33333 7.33317V8.6665H2V7.33317H9.33333ZM9.33333 2.6665V3.99984H2V2.6665H9.33333Z",fill:"#09121F"})})})}),U=(0,a.useCallback)((async()=>{W(!0);try{await g.A.get("https://goswirl.world:3001/getAnalyticsDataByBrandIdAndDate?brand_id=".concat(null===R||void 0===R?void 0:R.brand_id,"&start_date=").concat((0,T.GP)(t[0].startDate,"yyyy-MM-dd"),"&end_date=").concat((0,T.GP)(t[0].endDate,"yyyy-MM-dd"))).then((e=>{H(e.data.resp),e.data&&W(!1)})).catch((e=>{console.log(e),W(!1)}))}catch(e){console.log(e)}}),[R.brand_id,t]);return(0,a.useEffect)((()=>{P(""!==_)}),[_]),(0,a.useEffect)((()=>{U(),(()=>{let e=0,t=0;B&&B.map((s=>{e+=parseInt(s.total_views),t+=parseInt(s.total_watchtime)}))})()}),[t,U]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)("div",{className:"ms-auto d-flex align-items-center mb-3",children:(0,f.jsxs)("div",{className:"dropdown d-flex",children:[(0,f.jsxs)("div",{className:"input-group input-group me-1",children:[(0,f.jsx)("span",{className:"input-group-text border-end-0 border-dark",children:(0,f.jsx)(r.KSO,{})}),(0,f.jsx)("input",{type:"search",className:"form-control border-start-0 border-dark",name:"search",value:_,placeholder:"Search video...",onChange:e=>(e=>{N(e);const t=B.filter((e=>e.video_title&&e.video_title.toLowerCase().includes(_.toLowerCase())));y(t)})(e.target.value)})]}),(0,f.jsxs)(i.A,{show:z,onToggle:()=>Q(!z),children:[window.innerWidth>556?(0,f.jsx)(i.A.Toggle,{id:"dropdown-basic",className:"bg-transparent text-dark border-dark",children:(0,f.jsx)("span",{children:null!==t[0].endDate?"".concat(t[0].startDate.toString().slice(4,15)," to ").concat(t[0].endDate.toString().slice(4,15)):"Filter by date"})}):(0,f.jsx)(i.A.Toggle,{id:"dropdown-basic",className:"bg-transparent text-dark border-dark",children:(0,f.jsx)("span",{children:null!==t[0].endDate?"".concat(t[0].startDate.getFullYear().toString().slice(2,4),"/").concat(t[0].startDate.getFullYear().toString().slice(2,4),"/").concat(t[0].startDate.getFullYear().toString().slice(2,4)," - ").concat(t[0].startDate.getFullYear().toString().slice(2,4),"/").concat(t[0].startDate.getFullYear().toString().slice(2,4),"/").concat(t[0].startDate.getFullYear().toString().slice(2,4)):"Filter by date"})}),(0,f.jsxs)(i.A.Menu,{children:[(0,f.jsx)(l.Ur,{editableDateInputs:!1,onChange:e=>s([e.selection]),moveRangeOnFirstSelection:!0,ranges:t,months:2,direction:"horizontal",maxDate:d,minDate:"236633565"==(null===R||void 0===R?void 0:R.brand_id)?new Date(2024,2,15):new Date(2024,3,5)}),(0,f.jsxs)("div",{className:"w-100",children:[(0,f.jsx)("button",{id:"dropdown-basic",className:"btn btn-sm btn-primary float-end me-3",onClick:()=>{Q(!1)},children:"Done"}),(0,f.jsx)("button",{id:"dropdown-basic",className:"btn btn-sm btn-outline-primary float-end me-3",onClick:()=>{s([{startDate:new Date(n.getTime()-6048e5),endDate:d,key:"selection"}])},children:"Reset"})]})]})]}),(0,f.jsxs)(i.A,{className:"ms-1",children:[window.innerWidth>556?(0,f.jsx)(i.A.Toggle,{className:"bg-transparent text-dark border-dark",children:"Export"}):(0,f.jsx)(i.A.Toggle,{className:"bg-transparent text-dark border-dark",children:(0,f.jsx)(E.w4m,{})}),(0,f.jsxs)(i.A.Menu,{children:[(0,f.jsxs)(i.A.Item,{onClick:()=>{const e=["date","video_title","total_views","total_unique_views","total_watchtime","average_watchtime","buyNow","addtoCart","askQuestion","engagement_rate","ctr_rate"],t=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.hasOwnProperty(t)?e[t]:s};let s=["Date","Video Title","Total Views","Unique Views","Watch Time [Mins]","Avg Watch Time [Secs]","Buy Now","Add to Cart","Ask Question","Engagement","CTR"].join(",")+"\n";B.forEach((a=>{const n={...a,total_watchtime:(parseInt(a.total_watchtime)/60).toFixed(2)},o=[t(n,e[0]),t(n,e[1]),t(n,e[2]),t(n,e[3]),t(n,e[4]),t(n,e[5]),t(n,e[6]),t(n,e[7]),t(n,e[8]),t(n,e[9]),t(n,e[10])];s+=o.join(",")+"\n"}));const a=new Blob([s],{type:"text/csv;charset=utf-8;"});(0,A.saveAs)(a,"data.csv")},children:[(0,f.jsx)(r.QaY,{color:"gray"})," Export as CSV "]}),(0,f.jsxs)(i.A.Item,{onClick:()=>{const e=["date","video_title","total_views","total_unique_views","total_watchtime","average_watchtime","buyNow","addtoCart","askQuestion","engagement_rate","ctr_rate"],t=[["Date","Video Title","Total Views","Unique Views","Watch Time [Mins]","Avg Watch Time [Secs]","Buy Now","Add to Cart","Ask Question","Engagement","CTR"],...B.map((t=>{const s={...t,total_watchtime:(parseInt(t.total_watchtime)/60).toFixed(2)};return e.map((e=>function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.hasOwnProperty(t)?e[t]:s}(s,e)))}))],s=C.Wp.aoa_to_sheet(t),a=C.Wp.book_new();C.Wp.book_append_sheet(a,s,"Sheet1");const n=C.M9(a,{bookType:"xlsx",type:"array"});(0,A.saveAs)(new Blob([n],{type:"application/octet-stream"}),"data.xlsx")},children:[(0,f.jsx)(r.Ru,{color:"green"})," Export as XLS"]}),(0,f.jsxs)(i.A.Item,{onClick:()=>{const e=new D.default("l","pt","a4",!0),t=["Date","Video Title","Total Views","Unique Views","Watch Time [Mins]","Avg Watch Time [Secs]","Buy Now","Add to Cart","Ask Question","Engagement","CTR"],s=["date","video_title","total_views","total_unique_views","total_watchtime","average_watchtime","buyNow","addtoCart","askQuestion","engagement_rate","ctr_rate"],a=[t];B.forEach((e=>{const t={...e,total_watchtime:(parseInt(e.total_watchtime)/60).toFixed(2)},n=s.map((e=>function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.hasOwnProperty(t)?e[t]:s}(t,e)));a.push(n)})),e.autoTable({head:[t],body:a.slice(1),headStyles:{fillColor:[238,238,119],textColor:[0,0,0]},styles:{cellPadding:1,fontSize:5},columnStyles:{0:{cellWidth:"auto"}},margin:{top:20},startY:20}),e.save("data.pdf")},children:[(0,f.jsx)(r.kl1,{color:"red"})," Export as PDF"]})]})]})]})})}),(0,f.jsx)("div",{style:{width:"100%",overflow:"auto",height:"auto"},children:(0,f.jsx)("div",{style:{border:"1px solid #E0E0E0",minWidth:"1500px"},children:(0,f.jsx)(o.Ay,{columns:q,data:k?null===w||void 0===w?void 0:w.map(((e,t)=>({...e,index:t}))):null===B||void 0===B?void 0:B.map(((e,t)=>({...e,index:t}))),subHeader:!0,progressPending:V,pagination:!0,progressComponent:(0,f.jsx)("div",{className:"p-3 m-4",children:(0,f.jsx)(F.IN,{height:30,width:30,strokeColor:"grey"})}),sortIcon:(0,f.jsx)(L,{}),highlightOnHover:!0,className:"custom-datatable",subHeaderComponent:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"d-flex w-100 table_header_row",children:[(0,f.jsx)("div",{className:"table_blank_column"}),(0,f.jsx)("div",{className:"table_higher_column",children:(0,f.jsxs)("div",{className:"d-flex text-center",children:[(0,f.jsx)("div",{className:"perfomance_column",children:"Performance"}),(0,f.jsx)("div",{className:"engagement_column",children:"Engagement"})]})})]})})})})}),(0,f.jsx)(S,{show:c,handleClose:()=>m(!1),data:h}),(0,f.jsx)(M,{show:p,handleClose:()=>x(!1),data:{...b,...t[0]}})]})};s(40932),s(79936),s(59478),s(95365),s(54213),s(91123),s(57270),s(96690),s(91036),s(5060);s(20917),s(12647);s(38421),s(83910);s(61476);var W=s(73216);const R=e=>{let{state:t,setState:s}=e;const[o,i]=(0,a.useState)([]),l=(0,v.d4)((e=>e.auth.user)),r=(0,W.zy)(),d=new URLSearchParams(r.search);d.get("createTable");(0,a.useEffect)((()=>{(async()=>{try{await g.A.get("https://liveshopping.asia/getPlaylistByBrandId?brandId=".concat(l.brand_id)).then((e=>{e.data.playlist?i(e.data.playlist):i([])}))}catch(e){console.log(e)}})()}),[l]);const c=(0,W.Zp)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.m,{children:(0,f.jsx)("title",{children:"SWIRL | Short Videos"})}),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"col",children:[(0,f.jsxs)("div",{className:"d-flex",children:[(0,f.jsx)("ul",{className:"nav nav-tabs",id:"responsive-tabs",role:"tablist",children:(0,f.jsx)("li",{className:"nav-item",role:"presentation",children:(0,f.jsx)("button",{className:"nav-link ",id:"Reports-tab","data-bs-toggle":"tab","data-bs-target":"#Reports",type:"button",role:"tab","aria-controls":"Reports","aria-selected":"false",onClick:()=>{var e;e=!1,d.set("createTable",e),c({search:d.toString()})},children:"Reports"})})}),(0,f.jsx)("div",{className:"ms-auto d-flex align-items-center"})]}),(0,f.jsx)("div",{className:"tab-content p-3",id:"responsive-tabs-content",children:(0,f.jsx)("div",{className:"tab-pane fade show active",id:"Reports",role:"tabpanel","aria-labelledby":"Reports-tab",children:(0,f.jsx)(V,{state:t,setState:s})})})]})})]})}}}]);
//# sourceMappingURL=612.ff1b4229.chunk.js.map